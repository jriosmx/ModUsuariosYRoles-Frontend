<div id="app">
  <header class="header">  
  <nav class="navbar navbar-expand navbar-dark navbar-primary">
    <a href="#" class="navbar-brand">Biblioteca ITSL</a>
    
    <ul class="navbar-nav mr-auto" routerLinkActive="active">
      <li class="nav-item">
        <a href="/home" class="nav-link" routerLink="home">Home </a>
      </li>
      
      <div name="menus" class="navbar-nav mr-auto" *ngIf="isLoggedIn"> <!-- menus -->            
        <div name="menus" class="navbar-nav mr-auto" *ngIf="role=='ROLE_ADMIN' "> <!-- get User Role --><!-- menus --> 
          
          <!-- Dropdown  Autores-->
          <li class="nav-item dropdown">
            <a  class="nav-link" href="#" id="navbardrop" data-toggle="dropdown">
              Autores
            </a>
            <div class="dropdown-menu">
              <a class="dropdown-item" routerLink="autor" >Nuevo</a>
              <div class="dropdown-divider"></div>
              <a class="dropdown-item" routerLink="autores" >Ver Autores</a>
            </div>
          </li>      

          <!-- Dropdown  Categorias-->
          <li class="nav-item dropdown">
            <a class="nav-link" href="#" id="navbardrop" data-toggle="dropdown">
              Categorías
            </a>
            <div class="dropdown-menu">
              <a class="dropdown-item" routerLink="categoria" >Nuevo</a>
              <div class="dropdown-divider"></div>
              <a class="dropdown-item" routerLink="categorias" >Ver Categorías</a>
            </div>
          </li>

          <!-- Dropdown  Editoriales-->
          <li class="nav-item dropdown">
            <a class="nav-link" href="#" id="navbardrop" data-toggle="dropdown">
              Editoriales
            </a>
            <div class="dropdown-menu">
              <a class="dropdown-item" routerLink="editorial" >Nuevo</a>
              <div class="dropdown-divider"></div>
              <a class="dropdown-item" routerLink="editoriales" >Ver Editoriales</a>
            </div>
          </li>

          <!-- Dropdown  libros-->
          <li class="nav-item dropdown">
            <a class="nav-link" href="#" id="navbardrop" data-toggle="dropdown">
              Libros
            </a>
            <div class="dropdown-menu">
              <a class="dropdown-item" routerLink="libro">Nuevo</a>
              <div class="dropdown-divider"></div>
              <a class="dropdown-item" routerLink="libros">Ver Libros</a>
            </div>
          </li>

          <!-- Dropdown  Usuarios-->
          <li class="nav-item dropdown">
            <a class="nav-link" href="#" id="navbardrop" data-toggle="dropdown">
              Usuarios
            </a>
            <div class="dropdown-menu">
              <a class="dropdown-item" routerLink="register">Nuevo</a>
              <!-- <div class="dropdown-divider"></div> -->
              
              <!-- lvl Roles -->
              <!-- <li class="dropdown-submenu">
                <a href="#" role="button" data-toggle="dropdown" class="dropdown-item dropdown-toggle">Roles</a>
                <ul class="dropdown-menu"> -->
                  <!-- lvl 2 dropdown -->              
                      <!-- <li><a href="#" class="dropdown-item">Nuevo</a></li>
                      <div class="dropdown-divider"></div>
                      <li><a href="#" class="dropdown-item">Ver Roles</a></li>                      
                </ul>
              </li>  -->
              
              <!-- <div class="dropdown-divider"></div> -->
              <a class="dropdown-item" routerLink="usuarios">Ver Usuarios</a>
            </div>
          </li>       

          <!-- Dropdown  Prestamos-->
          <li class="nav-item dropdown">
            <a class="nav-link" href="#" id="navbardrop" data-toggle="dropdown">
              Prestamos
            </a>
            <div class="dropdown-menu">
              <a class="dropdown-item" routerLink="libro">Nuevo</a>
              <div class="dropdown-divider"></div>
              <a class="dropdown-item" routerLink="login">Ver Prestamos</a>
            </div>
          </li>
        
        </div> <!-- menus --> 
    </div> <!-- get User Role --> <!-- menus --> 

      
    </ul>

    <ul class="navbar-nav ml-auto" *ngIf="!isLoggedIn">
      <li class="nav-item">
        <a href="/register" class="nav-link" routerLink="register">Sign Up</a>
      </li>
      <li class="nav-item">
        <a href="/login" class="nav-link" routerLink="login">Login</a>
      </li>
    </ul>

    <div name="authenticated_true" class="navbar-nav me-auto" *ngIf="isLoggedIn">  <!-- authenticated_true -->
      <ul class="navbar-nav me-auto">            
        <li class="nav-item dropdown">
          <a class="nav-link" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                      {{username}} 
          </a>
          <div class="dropdown-menu" aria-labelledby="navbarDropdown" style="left:50% !important; right:auto !important; text-align:center !important; transform: translate(-50%, 0) !important;">
            <a class="dropdown-item" href="">Editar Perfil</a>
              <div class="dropdown-divider"></div>
                <a class="dropdown-item" href="" (click)="logout()">Cerrar sesión</a>
              </div>
        </li>            
      </ul>                     
    </div> <!-- authenticated_true -->     

    <!-- <ul class="navbar-nav ml-auto" *ngIf="isLoggedIn">
      <li class="nav-item">
        <a href="/profile" class="nav-link" routerLink="profile">{{ username }}</a>
      </li>
      <li class="nav-item">
        <a href class="nav-link" (click)="logout()">LogOut</a>
      </li>
    </ul> -->



  </nav>
  </header>
  
  <div *ngIf="isLoggedIn"> <!-- menus -->            
    <div *ngIf="role=='ROLE_USER' "> <!-- get User Role --><!-- menus --> 
      <div class="container" name="consultas">
        <app-consultas></app-consultas>
      </div>
    </div>
  </div>

  <div class="container">
    <router-outlet></router-outlet>
  </div>
</div>
